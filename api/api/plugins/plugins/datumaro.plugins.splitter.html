<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>splitter module &mdash; Datumaro API documentation 1.0.0rc1 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/banner.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/clipboard.min.js"></script>
        <script src="../../../_static/copybutton.js"></script>
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="tiling module" href="datumaro.plugins.tiling.html" />
    <link rel="prev" title="ndr module" href="datumaro.plugins.ndr.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #30638E" >
  <a href="../../../index.html" class="icon"> Datumaro API documentation
</a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../developer_manual.html">Developer Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datumaro/datumaro.html">datumaro module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli/cli.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../components/components.html">Components</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../plugins.html">Plugins</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../accuracy_checker_plugin/accuracy_checker_plugin.html">accuracy checker plugin package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_formats/data_formats.html">Data formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../openvino_plugin/openvino_plugin.html">OpenVINO plugin package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sampler/sampler.html">sampler package</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.plugins.ndr.html">ndr module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">splitter module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.plugins.tiling.html">tiling module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.plugins.transforms.html">transforms module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.plugins.validators.html">validators module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../util/util/util.html">Utilities</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://openvinotoolkit.github.io/datumaro/docs/">Back to main documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #30638E" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Datumaro API documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../plugins.html">Plugins</a> &raquo;</li>
      <li>splitter module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/api/plugins/plugins/datumaro.plugins.splitter.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-datumaro.plugins.splitter">
<span id="splitter-module"></span><h1>splitter module<a class="headerlink" href="#module-datumaro.plugins.splitter" title="Permalink to this headline"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="datumaro.plugins.splitter.SplitTask">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">datumaro.plugins.splitter.</span></span><span class="sig-name descname"><span class="pre">SplitTask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/plugins/splitter.html#SplitTask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.plugins.splitter.SplitTask" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></a></p>
<p>An enumeration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="datumaro.plugins.splitter.SplitTask.classification">
<span class="sig-name descname"><span class="pre">classification</span></span><em class="property"> <span class="pre">=</span> <span class="pre">1</span></em><a class="headerlink" href="#datumaro.plugins.splitter.SplitTask.classification" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datumaro.plugins.splitter.SplitTask.detection">
<span class="sig-name descname"><span class="pre">detection</span></span><em class="property"> <span class="pre">=</span> <span class="pre">2</span></em><a class="headerlink" href="#datumaro.plugins.splitter.SplitTask.detection" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datumaro.plugins.splitter.SplitTask.segmentation">
<span class="sig-name descname"><span class="pre">segmentation</span></span><em class="property"> <span class="pre">=</span> <span class="pre">3</span></em><a class="headerlink" href="#datumaro.plugins.splitter.SplitTask.segmentation" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datumaro.plugins.splitter.SplitTask.reid">
<span class="sig-name descname"><span class="pre">reid</span></span><em class="property"> <span class="pre">=</span> <span class="pre">4</span></em><a class="headerlink" href="#datumaro.plugins.splitter.SplitTask.reid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datumaro.plugins.splitter.Split">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">datumaro.plugins.splitter.</span></span><span class="sig-name descname"><span class="pre">Split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">splits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr_for_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/plugins/splitter.html#Split"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.plugins.splitter.Split" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">datumaro.components.transformer.Transform</span></code>, <a class="reference internal" href="../../components/components/datumaro.components.cli_plugin.html#datumaro.components.cli_plugin.CliPlugin" title="datumaro.components.cli_plugin.CliPlugin"><code class="xref py py-class docutils literal notranslate"><span class="pre">datumaro.components.cli_plugin.CliPlugin</span></code></a></p>
<ul>
<li><dl class="simple">
<dt>classification split 
</dt><dd><p>Splits dataset into subsets(train/val/test) in class-wise manner. 

Splits dataset images in the specified ratio, keeping the initial class 

distribution.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>detection &amp; segmentation split 
</dt><dd><p>Each image can have multiple object annotations - 

(bbox, mask, polygon). Since an image shouldn’t be included 

in multiple subsets at the same time, and image annotations 

shouldn’t be split, in general, dataset annotations are unlikely 

to be split exactly in the specified ratio. 

This split tries to split dataset images as close as possible 

to the specified ratio, keeping the initial class distribution.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>reidentification split 
</dt><dd><p>In this task, the test set should consist of images of unseen

people or objects during the training phase.

This function splits a dataset in the following way:</p>
</dd>
</dl>
<ol class="arabic simple">
<li><p>Splits the dataset into ‘train + val’ and ‘test’ sets 

based on person or object ID.</p></li>
<li><p>Splits ‘test’ set into ‘test-gallery’ and ‘test-query’ sets 

in class-wise manner.</p></li>
<li><p>Splits the ‘train + val’ set into ‘train’ and ‘val’ sets 

in the same way.</p></li>
</ol>
</li>
</ul>
<p>The final subsets would be

‘train’, ‘val’, ‘test-gallery’ and ‘test-query’.</p>
<dl class="simple">
<dt>Notes:
</dt><dd><ul class="simple">
<li><p>Each image is expected to have only one Annotation. Unlabeled or 

multi-labeled images will be split into subsets randomly.</p></li>
<li><p>If Labels also have attributes, also splits by attribute values.</p></li>
<li><p>If there is not enough images in some class or attributes group, 

the split ratio can’t be guaranteed. 

In reidentification task,</p></li>
<li><p>Object ID can be described by Label, or by attribute (–attr parameter)</p></li>
<li><p>The splits of the test set are controlled by ‘–query’ parameter 

Gallery ratio would be 1.0 - query.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">split</span> <span class="o">-</span><span class="n">t</span> <span class="n">classification</span> <span class="o">--</span><span class="n">subset</span> <span class="n">train</span><span class="p">:</span><span class="mf">.5</span> <span class="o">--</span><span class="n">subset</span> <span class="n">val</span><span class="p">:</span><span class="mf">.2</span> <span class="o">--</span><span class="n">subset</span> <span class="n">test</span><span class="p">:</span><span class="mf">.3</span> 

<span class="n">split</span> <span class="o">-</span><span class="n">t</span> <span class="n">detection</span> <span class="o">--</span><span class="n">subset</span> <span class="n">train</span><span class="p">:</span><span class="mf">.5</span> <span class="o">--</span><span class="n">subset</span> <span class="n">val</span><span class="p">:</span><span class="mf">.2</span> <span class="o">--</span><span class="n">subset</span> <span class="n">test</span><span class="p">:</span><span class="mf">.3</span> 

<span class="n">split</span> <span class="o">-</span><span class="n">t</span> <span class="n">segmentation</span> <span class="o">--</span><span class="n">subset</span> <span class="n">train</span><span class="p">:</span><span class="mf">.5</span> <span class="o">--</span><span class="n">subset</span> <span class="n">val</span><span class="p">:</span><span class="mf">.2</span> <span class="o">--</span><span class="n">subset</span> <span class="n">test</span><span class="p">:</span><span class="mf">.3</span> 

<span class="n">split</span> <span class="o">-</span><span class="n">t</span> <span class="n">reid</span> <span class="o">--</span><span class="n">subset</span> <span class="n">train</span><span class="p">:</span><span class="mf">.5</span> <span class="o">--</span><span class="n">subset</span> <span class="n">val</span><span class="p">:</span><span class="mf">.2</span> <span class="o">--</span><span class="n">subset</span> <span class="n">test</span><span class="p">:</span><span class="mf">.3</span> <span class="o">--</span><span class="n">query</span> <span class="mf">.5</span> 
</pre></div>
</div>
<p>Example: use ‘person_id’ attribute for splitting</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">split</span> <span class="o">--</span><span class="n">attr</span> <span class="n">person_id</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="datumaro.plugins.splitter.Split.build_cmdline_parser">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">build_cmdline_parser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/plugins/splitter.html#Split.build_cmdline_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.plugins.splitter.Split.build_cmdline_parser" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datumaro.plugins.splitter.Split.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">splits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr_for_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/plugins/splitter.html#Split.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.plugins.splitter.Split.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datumaro.plugins.splitter.Split.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/plugins/splitter.html#Split.__iter__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.plugins.splitter.Split.__iter__" title="Permalink to this definition"></a></dt>
<dd><p>Provides sequential access to dataset items.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datumaro.plugins.splitter.Split.get_subset">
<span class="sig-name descname"><span class="pre">get_subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/plugins/splitter.html#Split.get_subset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.plugins.splitter.Split.get_subset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datumaro.plugins.splitter.Split.subsets">
<span class="sig-name descname"><span class="pre">subsets</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/plugins/splitter.html#Split.subsets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.plugins.splitter.Split.subsets" title="Permalink to this definition"></a></dt>
<dd><p>Enumerates subsets in the dataset. Each subset can be a dataset itself.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datumaro.plugins.splitter._TaskSpecificSplit">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">datumaro.plugins.splitter.</span></span><span class="sig-name descname"><span class="pre">_TaskSpecificSplit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">splits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restrict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/plugins/splitter.html#_TaskSpecificSplit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.plugins.splitter._TaskSpecificSplit" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="datumaro.plugins.splitter._TaskSpecificSplit._group_by_attr">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">_group_by_attr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/plugins/splitter.html#_TaskSpecificSplit._group_by_attr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.plugins.splitter._TaskSpecificSplit._group_by_attr" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>items</strong> – list of (idx_img, ann). ann is the annotation from Label object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict of { combination-of-attrs : list of index }</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>by_attributes</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datumaro.plugins.splitter._TaskSpecificSplit._split_unlabeled">
<span class="sig-name descname"><span class="pre">_split_unlabeled</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unlabeled</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_splits</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/plugins/splitter.html#_TaskSpecificSplit._split_unlabeled"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.plugins.splitter._TaskSpecificSplit._split_unlabeled" title="Permalink to this definition"></a></dt>
<dd><p>split unlabeled data into subsets (detection, classification)
:param unlabeled: list of index of unlabeled or multi-labeled data
:param by_splits: splits up to now</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>final splits</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>by_splits</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datumaro.plugins.splitter._TaskSpecificSplit.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">splits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restrict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/plugins/splitter.html#_TaskSpecificSplit.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.plugins.splitter._TaskSpecificSplit.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datumaro.plugins.splitter._ClassificationSplit">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">datumaro.plugins.splitter.</span></span><span class="sig-name descname"><span class="pre">_ClassificationSplit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">splits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/plugins/splitter.html#_ClassificationSplit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.plugins.splitter._ClassificationSplit" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#datumaro.plugins.splitter._TaskSpecificSplit" title="datumaro.plugins.splitter._TaskSpecificSplit"><code class="xref py py-class docutils literal notranslate"><span class="pre">datumaro.plugins.splitter._TaskSpecificSplit</span></code></a></p>
<p>Splits dataset into subsets(train/val/test) in class-wise manner. 

Splits dataset images in the specified ratio, keeping the initial class
distribution.</p>
<dl class="simple">
<dt>Notes:
</dt><dd><ul class="simple">
<li><p>Each image is expected to have only one Label. Unlabeled or
multi-labeled images will be split into subsets randomly.</p></li>
<li><p>If Labels also have attributes, also splits by attribute values.</p></li>
<li><p>If there is not enough images in some class or attributes group,
the split ratio can’t be guaranteed.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">classification_split</span> <span class="o">-</span><span class="n">t</span> <span class="n">classification</span> <span class="o">--</span><span class="n">subset</span> <span class="n">train</span><span class="p">:</span><span class="mf">.5</span> <span class="o">--</span><span class="n">subset</span> <span class="n">val</span><span class="p">:</span><span class="mf">.2</span> <span class="o">--</span><span class="n">subset</span> <span class="n">test</span><span class="p">:</span><span class="mf">.3</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="datumaro.plugins.splitter._ClassificationSplit.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">splits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/plugins/splitter.html#_ClassificationSplit.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.plugins.splitter._ClassificationSplit.__init__" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<a class="reference internal" href="../../components/components/datumaro.components.dataset.html#datumaro.components.dataset.Dataset" title="datumaro.components.dataset.Dataset"><em>Dataset</em></a>) – </p></li>
<li><p><strong>splits</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a>) – A list of (subset(str), ratio(float))
The sum of ratios is expected to be 1.</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – optional</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datumaro.plugins.splitter._ReidentificationSplit">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">datumaro.plugins.splitter.</span></span><span class="sig-name descname"><span class="pre">_ReidentificationSplit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">splits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr_for_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/plugins/splitter.html#_ReidentificationSplit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.plugins.splitter._ReidentificationSplit" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#datumaro.plugins.splitter._TaskSpecificSplit" title="datumaro.plugins.splitter._TaskSpecificSplit"><code class="xref py py-class docutils literal notranslate"><span class="pre">datumaro.plugins.splitter._TaskSpecificSplit</span></code></a></p>
<p>Splits a dataset for re-identification task.

Produces a split with a specified ratio of images, avoiding having same
labels in different subsets.</p>
<p>In this task, the test set should consist of images of unseen
people or objects during the training phase. 

This function splits a dataset in the following way:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Splits the dataset into ‘train + val’ and ‘test’ sets

based on person or object ID.</p></li>
<li><p>Splits ‘test’ set into ‘test-gallery’ and ‘test-query’ sets

in class-wise manner.</p></li>
<li><p>Splits the ‘train + val’ set into ‘train’ and ‘val’ sets

in the same way.</p></li>
</ol>
</div></blockquote>
<p>The final subsets would be
‘train’, ‘val’, ‘test-gallery’ and ‘test-query’.</p>
<dl class="simple">
<dt>Notes:
</dt><dd><ul class="simple">
<li><p>Each image is expected to have a single Label. Unlabeled or multi-labeled
images will be split into ‘not-supported’.</p></li>
<li><p>Object ID can be described by Label, or by attribute (–attr parameter)</p></li>
<li><p>The splits of the test set are controlled by ‘–query’ parameter. 

Gallery ratio would be 1.0 - query.</p></li>
</ul>
</dd>
</dl>
<p>Example: split a dataset in the specified ratio, split the test set

into gallery and query in 1:1 ratio</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">reidentification_split</span> <span class="o">-</span><span class="n">t</span> <span class="n">reidentification</span> <span class="o">--</span><span class="n">subset</span> <span class="n">train</span><span class="p">:</span><span class="mf">.5</span> <span class="o">--</span><span class="n">subset</span> <span class="n">val</span><span class="p">:</span><span class="mf">.2</span> <span class="o">--</span><span class="n">subset</span> <span class="n">test</span><span class="p">:</span><span class="mf">.3</span> <span class="o">--</span><span class="n">query</span> <span class="mf">.5</span>
</pre></div>
</div>
<p>Example: use ‘person_id’ attribute for splitting</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">reidentification_split</span> <span class="o">--</span><span class="n">attr</span> <span class="n">person_id</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="datumaro.plugins.splitter._ReidentificationSplit.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">splits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr_for_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/plugins/splitter.html#_ReidentificationSplit.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.plugins.splitter._ReidentificationSplit.__init__" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<a class="reference internal" href="../../components/components/datumaro.components.dataset.html#datumaro.components.dataset.Dataset" title="datumaro.components.dataset.Dataset"><em>Dataset</em></a>) – </p></li>
<li><p><strong>splits</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a>) – A list of (subset(str), ratio(float))
Subset is expected to be one of [“train”, “val”, “test”].
The sum of ratios is expected to be 1.</p></li>
<li><p><strong>query</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – The ratio of ‘test-query’ set.
The ratio of ‘test-gallery’ set would be 1.0 - query.</p></li>
<li><p><strong>attr_for_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – attribute name representing the person/object id.
if this is not specified, label would be used.</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – optional</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datumaro.plugins.splitter._InstanceSpecificSplit">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">datumaro.plugins.splitter.</span></span><span class="sig-name descname"><span class="pre">_InstanceSpecificSplit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">splits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/plugins/splitter.html#_InstanceSpecificSplit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.plugins.splitter._InstanceSpecificSplit" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#datumaro.plugins.splitter._TaskSpecificSplit" title="datumaro.plugins.splitter._TaskSpecificSplit"><code class="xref py py-class docutils literal notranslate"><span class="pre">datumaro.plugins.splitter._TaskSpecificSplit</span></code></a></p>
<p>Splits a dataset into subsets(train/val/test),
using object annotations as a basis for splitting.

Tries to produce an image split with the specified ratio, keeping the
initial distribution of class objects.</p>
<p>each image can have multiple object annotations -
(instance bounding boxes, masks, polygons). Since an image shouldn’t be included
in multiple subsets at the same time, and image annotations
shouldn’t be split, in general, dataset annotations are unlikely to be split
exactly in the specified ratio. 

This split tries to split dataset images as close as possible
to the specified ratio, keeping the initial class distribution.</p>
<dl class="simple">
<dt>Notes:
</dt><dd><ul class="simple">
<li><p>Each image is expected to have one or more annotations.</p></li>
<li><p>Only bbox annotations are considered in detection task.</p></li>
<li><p>Mask or Polygon annotations are considered in segmentation task.</p></li>
</ul>
</dd>
</dl>
<p>Example: split dataset so that each object class annotations were split

in the specified ratio between subsets</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">instance_specific_split</span> <span class="o">-</span><span class="n">t</span> <span class="n">detection</span> <span class="o">--</span><span class="n">subset</span> <span class="n">train</span><span class="p">:</span><span class="mf">.5</span> <span class="o">--</span><span class="n">subset</span> <span class="n">val</span><span class="p">:</span><span class="mf">.2</span> <span class="o">--</span><span class="n">subset</span> <span class="n">test</span><span class="p">:</span><span class="mf">.3</span> 

<span class="n">instance_specific_split</span> <span class="o">-</span><span class="n">t</span> <span class="n">segmentation</span> <span class="o">--</span><span class="n">subset</span> <span class="n">train</span><span class="p">:</span><span class="mf">.5</span> <span class="o">--</span><span class="n">subset</span> <span class="n">val</span><span class="p">:</span><span class="mf">.2</span> <span class="o">--</span><span class="n">subset</span> <span class="n">test</span><span class="p">:</span><span class="mf">.3</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="datumaro.plugins.splitter._InstanceSpecificSplit.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">splits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/plugins/splitter.html#_InstanceSpecificSplit.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.plugins.splitter._InstanceSpecificSplit.__init__" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<a class="reference internal" href="../../components/components/datumaro.components.dataset.html#datumaro.components.dataset.Dataset" title="datumaro.components.dataset.Dataset"><em>Dataset</em></a>) – </p></li>
<li><p><strong>splits</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a>) – A list of (subset(str), ratio(float))
The sum of ratios is expected to be 1.</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – optional</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="datumaro.plugins.ndr.html" class="btn btn-neutral float-left" title="ndr module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="datumaro.plugins.tiling.html" class="btn btn-neutral float-right" title="tiling module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
  <p>
      &#169; Copyright 2021, Intel.<div>
      <small><a href="https://www.intel.com/content/www/us/en/privacy/intel-privacy-notice.html">Privacy Policy</a></small>
      |
      <small><a href="https://www.intel.com/content/www/us/en/legal/terms-of-use.html">Terms of Use</a></small>
    </div>
    <br/>
    <small>
      Intel technologies may require enabled hardware, software or service activation. // No product or component can be absolutely secure. // Your costs and results may vary. // Performance varies by use, configuration and other factors. // See our complete legal <u><a href="https://edc.intel.com/content/www/us/en/products/performance/benchmarks/overview/?r=219444055">Notices and Disclaimers</a></u>. // Intel is committed to respecting human rights and avoiding complicity in human rights abuses. See Intel’s <a href="https://www.intel.com/content/www/us/en/policy/policy-human-rights.html"><u>Global Human Rights Principles</u></a>. Intel’s products and software are intended only to be used in applications that do not cause or contribute to a violation of an internationally recognized human right.
    </small>
  </p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: develop
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../../develop/api/plugins/plugins/datumaro.plugins.splitter.html">develop</a></dd>
        </dl>
    </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>