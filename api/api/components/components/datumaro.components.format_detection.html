<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>format detection module &mdash; Datumaro API documentation 1.0.0rc1 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/banner.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/clipboard.min.js"></script>
        <script src="../../../_static/copybutton.js"></script>
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="hl_ops module" href="datumaro.components.hl_ops.html" />
    <link rel="prev" title="extractor_tfds module" href="datumaro.components.extractor_tfds.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #30638E" >
  <a href="../../../index.html" class="icon"> Datumaro API documentation
</a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../developer_manual.html">Developer Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datumaro/datumaro.html">datumaro module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli/cli.html">CLI</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../components.html">Components</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../algorithms/algorithms.html">algorithms module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.components.annotation.html">annotation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.components.cli_plugin.html">cli_plugin module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.components.config.html">config module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.components.config_model.html">config_model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.components.converter.html">converter module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.components.dataset.html">dataset module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.components.dataset_filter.html">dataset_filter module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.components.environment.html">environment module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.components.errors.html">errors module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.components.extractor.html">extractor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.components.extractor_tfds.html">extractor_tfds module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">format detection module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.components.hl_ops.html">hl_ops module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.components.launcher.html">launcher module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.components.media.html">media module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.components.media_manager.html">media_manager module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.components.operations.html">operations module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.components.progress_reporting.html">progress reporting module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.components.project.html">project module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datumaro.components.validator.html">validator module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../plugins/plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../util/util/util.html">Utilities</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://openvinotoolkit.github.io/datumaro/docs/">Back to main documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #30638E" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Datumaro API documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../components.html">Components</a> &raquo;</li>
      <li>format detection module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/api/components/components/datumaro.components.format_detection.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-datumaro.components.format_detection">
<span id="format-detection-module"></span><h1>format detection module<a class="headerlink" href="#module-datumaro.components.format_detection" title="Permalink to this headline"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="datumaro.components.format_detection.FormatDetectionConfidence">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">datumaro.components.format_detection.</span></span><span class="sig-name descname"><span class="pre">FormatDetectionConfidence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/components/format_detection.html#FormatDetectionConfidence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.components.format_detection.FormatDetectionConfidence" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.IntEnum" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.IntEnum</span></code></a></p>
<p>Represents the level of confidence that a detector has in a dataset
belonging to the detector’s format.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="datumaro.components.format_detection.FormatDetectionConfidence.LOW">
<span class="sig-name descname"><span class="pre">LOW</span></span><em class="property"> <span class="pre">=</span> <span class="pre">10</span></em><a class="headerlink" href="#datumaro.components.format_detection.FormatDetectionConfidence.LOW" title="Permalink to this definition"></a></dt>
<dd><p>The dataset seems to belong to the format, but the format is too loosely
defined to be able to distinguish it from other formats.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datumaro.components.format_detection.FormatDetectionConfidence.MEDIUM">
<span class="sig-name descname"><span class="pre">MEDIUM</span></span><em class="property"> <span class="pre">=</span> <span class="pre">20</span></em><a class="headerlink" href="#datumaro.components.format_detection.FormatDetectionConfidence.MEDIUM" title="Permalink to this definition"></a></dt>
<dd><p>The dataset seems to belong to the format, and is likely not to belong
to any other format.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datumaro.components.format_detection.RejectionReason">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">datumaro.components.format_detection.</span></span><span class="sig-name descname"><span class="pre">RejectionReason</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/components/format_detection.html#RejectionReason"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.components.format_detection.RejectionReason" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></a></p>
<p>An enumeration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="datumaro.components.format_detection.RejectionReason.unmet_requirements">
<span class="sig-name descname"><span class="pre">unmet_requirements</span></span><em class="property"> <span class="pre">=</span> <span class="pre">1</span></em><a class="headerlink" href="#datumaro.components.format_detection.RejectionReason.unmet_requirements" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datumaro.components.format_detection.RejectionReason.insufficient_confidence">
<span class="sig-name descname"><span class="pre">insufficient_confidence</span></span><em class="property"> <span class="pre">=</span> <span class="pre">2</span></em><a class="headerlink" href="#datumaro.components.format_detection.RejectionReason.insufficient_confidence" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datumaro.components.format_detection.RejectionReason.detection_unsupported">
<span class="sig-name descname"><span class="pre">detection_unsupported</span></span><em class="property"> <span class="pre">=</span> <span class="pre">3</span></em><a class="headerlink" href="#datumaro.components.format_detection.RejectionReason.detection_unsupported" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="datumaro.components.format_detection.FormatRequirementsUnmet">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">datumaro.components.format_detection.</span></span><span class="sig-name descname"><span class="pre">FormatRequirementsUnmet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">failed_alternatives</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/components/format_detection.html#FormatRequirementsUnmet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.components.format_detection.FormatRequirementsUnmet" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">datumaro.components.format_detection._FormatRejected</span></code></p>
<p>Represents a situation where a dataset does not meet the requirements
of a given dataset format.
More specifically, if this exception is raised, then it is necessary
(but may not be sufficient) for the dataset to meet at least
one of these requirements to be detected as being in that format.</p>
<p>Each element of <cite>failed_alternatives</cite> must be a human-readable
statement describing a requirement that was not met.</p>
<p>Must not be constructed or raised directly; use <cite>FormatDetectionContext</cite>
methods.</p>
<dl class="py method">
<dt class="sig sig-object py" id="datumaro.components.format_detection.FormatRequirementsUnmet.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">failed_alternatives</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../../../_modules/datumaro/components/format_detection.html#FormatRequirementsUnmet.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.components.format_detection.FormatRequirementsUnmet.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datumaro.components.format_detection.FormatRequirementsUnmet.reason">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">reason</span></span><em class="property"><span class="pre">:</span> <a class="reference internal" href="#datumaro.components.format_detection.RejectionReason" title="datumaro.components.format_detection.RejectionReason"><span class="pre">datumaro.components.format_detection.RejectionReason</span></a></em><a class="headerlink" href="#datumaro.components.format_detection.FormatRequirementsUnmet.reason" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="datumaro.components.format_detection.FormatDetectionUnsupported">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">datumaro.components.format_detection.</span></span><span class="sig-name descname"><span class="pre">FormatDetectionUnsupported</span></span><a class="reference internal" href="../../../_modules/datumaro/components/format_detection.html#FormatDetectionUnsupported"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.components.format_detection.FormatDetectionUnsupported" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">datumaro.components.format_detection._FormatRejected</span></code></p>
<p>Represents a situation where detection is attempted with a format that
does not support it.</p>
<p>Must not be constructed or raised directly; use
<cite>FormatDetectionContext.raise_unsupported</cite> instead.</p>
<dl class="py property">
<dt class="sig sig-object py" id="datumaro.components.format_detection.FormatDetectionUnsupported.reason">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">reason</span></span><em class="property"><span class="pre">:</span> <a class="reference internal" href="#datumaro.components.format_detection.RejectionReason" title="datumaro.components.format_detection.RejectionReason"><span class="pre">datumaro.components.format_detection.RejectionReason</span></a></em><a class="headerlink" href="#datumaro.components.format_detection.FormatDetectionUnsupported.reason" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datumaro.components.format_detection.FormatDetectionContext">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">datumaro.components.format_detection.</span></span><span class="sig-name descname"><span class="pre">FormatDetectionContext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/components/format_detection.html#FormatDetectionContext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.components.format_detection.FormatDetectionContext" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>An instance of this class is given to a dataset format detector.
See the <cite>FormatDetector</cite> documentation. The class should not
be instantiated directly.</p>
<p>A context encapsulates information about the dataset whose format
is being detected. It also offers methods that place requirements
on that dataset. Each such method raises a <cite>FormatRequirementsUnmet</cite>
exception if the requirement is not met. If the requirement _is_
met, the return value depends on the method.</p>
<dl class="py method">
<dt class="sig sig-object py" id="datumaro.components.format_detection.FormatDetectionContext.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../../../_modules/datumaro/components/format_detection.html#FormatDetectionContext.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.components.format_detection.FormatDetectionContext.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datumaro.components.format_detection.FormatDetectionContext.root_path">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">root_path</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#datumaro.components.format_detection.FormatDetectionContext.root_path" title="Permalink to this definition"></a></dt>
<dd><p>Returns the path to the root directory of the dataset.
Detectors should avoid using this property in favor of specific
requirement methods.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datumaro.components.format_detection.FormatDetectionContext.raise_unsupported">
<span class="sig-name descname"><span class="pre">raise_unsupported</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">NoReturn</span></span></span><a class="reference internal" href="../../../_modules/datumaro/components/format_detection.html#FormatDetectionContext.raise_unsupported"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.components.format_detection.FormatDetectionContext.raise_unsupported" title="Permalink to this definition"></a></dt>
<dd><p>Raises a <cite>FormatDetectionUnsupported</cite> exception to signal that the
current format does not support detection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datumaro.components.format_detection.FormatDetectionContext.fail">
<span class="sig-name descname"><span class="pre">fail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">requirement_desc</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">NoReturn</span></span></span><a class="reference internal" href="../../../_modules/datumaro/components/format_detection.html#FormatDetectionContext.fail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.components.format_detection.FormatDetectionContext.fail" title="Permalink to this definition"></a></dt>
<dd><p>Places a requirement that is never met. <cite>requirement_desc</cite> must contain
a human-readable description of the requirement.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datumaro.components.format_detection.FormatDetectionContext.require_file">
<span class="sig-name descname"><span class="pre">require_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_fnames</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Collection</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></span><a class="reference internal" href="../../../_modules/datumaro/components/format_detection.html#FormatDetectionContext.require_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.components.format_detection.FormatDetectionContext.require_file" title="Permalink to this definition"></a></dt>
<dd><p>Places the requirement that the dataset contains at least one file whose
relative path matches the given pattern. The pattern must be a glob-like
pattern; <cite>**</cite> can be used to indicate a sequence of zero or more
subdirectories.
If the pattern does not describe a relative path, or refers to files
outside the dataset root, the requirement is considered unmet.
If the requirement is met, the relative path to one of the files that
match the pattern is returned. If there are multiple such files, it’s
unspecified which one of them is returned.</p>
<p><cite>exclude_fnames</cite> must be a collection of patterns or a single pattern.
If at least one pattern is supplied, then the placed requirement is
narrowed to only accept files with names that match none of these
patterns.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datumaro.components.format_detection.FormatDetectionContext.require_files">
<span class="sig-name descname"><span class="pre">require_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_fnames</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Collection</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../../_modules/datumaro/components/format_detection.html#FormatDetectionContext.require_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.components.format_detection.FormatDetectionContext.require_files" title="Permalink to this definition"></a></dt>
<dd><p>Same as <cite>require_file</cite>, but returns all matching paths in alphabetical
order.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datumaro.components.format_detection.FormatDetectionContext.probe_text_file">
<span class="sig-name descname"><span class="pre">probe_text_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">requirement_desc</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">TextIO</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../../_modules/datumaro/components/format_detection.html#FormatDetectionContext.probe_text_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.components.format_detection.FormatDetectionContext.probe_text_file" title="Permalink to this definition"></a></dt>
<dd><p>Returns a context manager that can be used to place a requirement on
the contents of the file referred to by <cite>path</cite>. To do so, you must
enter and exit this context manager (typically, by using the <cite>with</cite>
statement). On entering, the file is opened for reading in text mode and
the resulting file object is returned. On exiting, the file object is
closed.</p>
<p>The requirement that is placed by doing this is considered met if all
of the following are true:</p>
<ul class="simple">
<li><p><cite>path</cite> is a relative path that refers to a file within the dataset
root.</p></li>
<li><p>The file is opened successfully.</p></li>
<li><p>The context is exited without an exception.</p></li>
</ul>
<p>If the context is exited with an exception that was produced by another
requirement being unmet, that exception is reraised and the new
requirement is abandoned.</p>
<p><cite>requirement_desc</cite> must be a human-readable statement describing the
requirement.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datumaro.components.format_detection.FormatDetectionContext.require_any">
<span class="sig-name descname"><span class="pre">require_any</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../../_modules/datumaro/components/format_detection.html#FormatDetectionContext.require_any"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.components.format_detection.FormatDetectionContext.require_any" title="Permalink to this definition"></a></dt>
<dd><p>Returns a context manager that can be used to place a requirement that
is considered met if at least one of several alternative sets of
requirements is met.
To do so, use a <cite>with</cite> statement, with the alternative sets of
requirements represented as nested <cite>with</cite> statements using the context
manager returned by <cite>alternative</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">context</span><span class="o">.</span><span class="n">require_any</span><span class="p">():</span>
    <span class="k">with</span> <span class="n">context</span><span class="o">.</span><span class="n">alternative</span><span class="p">():</span>
        <span class="c1"># place requirements from alternative set 1 here</span>
    <span class="k">with</span> <span class="n">context</span><span class="o">.</span><span class="n">alternative</span><span class="p">():</span>
        <span class="c1"># place requirements from alternative set 2 here</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>The contents of all <cite>with context.alternative()</cite> blocks will be
executed, even if an alternative that is met is found early.</p>
<p>Requirements must not be placed directly within a
<cite>with context.require_any()</cite> block.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datumaro.components.format_detection.FormatDetectionContext.alternative">
<span class="sig-name descname"><span class="pre">alternative</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../../_modules/datumaro/components/format_detection.html#FormatDetectionContext.alternative"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.components.format_detection.FormatDetectionContext.alternative" title="Permalink to this definition"></a></dt>
<dd><p>Returns a context manager that can be used in combination with
<cite>require_any</cite> to define alternative requirements. See the
documentation for <cite>require_any</cite> for more details.</p>
<p>Must only be used directly within a <cite>with context.requirements()</cite> block.</p>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="datumaro.components.format_detection.FormatDetector">
<span class="sig-prename descclassname"><span class="pre">datumaro.components.format_detection.</span></span><span class="sig-name descname"><span class="pre">FormatDetector</span></span><a class="headerlink" href="#datumaro.components.format_detection.FormatDetector" title="Permalink to this definition"></a></dt>
<dd><p>Denotes a callback that implements detection for a specific dataset format.
The callback receives an instance of <cite>FormatDetectionContext</cite> and must call
methods on that instance to place requirements that the dataset must meet
in order for it to be considered as belonging to the format.</p>
<p>Must terminate in one of the following ways:</p>
<ul class="simple">
<li><p>by returning the level of confidence in the dataset belonging to the format
(or <cite>None</cite>, which is equivalent to the <cite>MEDIUM</cite> level);</p></li>
<li><p>by raising a <cite>FormatRequirementsUnmet</cite> exception via one of
the <cite>FormatDetectionContext</cite> methods;</p></li>
<li><p>by raising a <cite>FormatDetectionUnsupported</cite> exception via
<cite>FormatDetectionContext.raise_unsupported</cite>.</p></li>
</ul>
<p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">Callable</span></code>[[<a class="reference internal" href="#datumaro.components.format_detection.FormatDetectionContext" title="datumaro.components.format_detection.FormatDetectionContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">datumaro.components.format_detection.FormatDetectionContext</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="#datumaro.components.format_detection.FormatDetectionConfidence" title="datumaro.components.format_detection.FormatDetectionConfidence"><code class="xref py py-class docutils literal notranslate"><span class="pre">datumaro.components.format_detection.FormatDetectionConfidence</span></code></a>]]</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datumaro.components.format_detection.apply_format_detector">
<span class="sig-prename descclassname"><span class="pre">datumaro.components.format_detection.</span></span><span class="sig-name descname"><span class="pre">apply_format_detector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_root_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#datumaro.components.format_detection.FormatDetectionContext" title="datumaro.components.format_detection.FormatDetectionContext"><span class="pre">datumaro.components.format_detection.FormatDetectionContext</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#datumaro.components.format_detection.FormatDetectionConfidence" title="datumaro.components.format_detection.FormatDetectionConfidence"><span class="pre">datumaro.components.format_detection.FormatDetectionConfidence</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#datumaro.components.format_detection.FormatDetectionConfidence" title="datumaro.components.format_detection.FormatDetectionConfidence"><span class="pre">datumaro.components.format_detection.FormatDetectionConfidence</span></a></span></span><a class="reference internal" href="../../../_modules/datumaro/components/format_detection.html#apply_format_detector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.components.format_detection.apply_format_detector" title="Permalink to this definition"></a></dt>
<dd><p>Checks whether the dataset located at <cite>dataset_root_path</cite> belongs to the
format detected by <cite>detector</cite>. If it does, returns the confidence level
of the detection. Otherwise, terminates with the exception that was raised
by the detector.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datumaro.components.format_detection.RejectionCallback">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">datumaro.components.format_detection.</span></span><span class="sig-name descname"><span class="pre">RejectionCallback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/datumaro/components/format_detection.html#RejectionCallback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.components.format_detection.RejectionCallback" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Protocol" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Protocol</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="datumaro.components.format_detection.RejectionCallback.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datumaro.components.format_detection.RejectionCallback.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datumaro.components.format_detection.detect_dataset_format">
<span class="sig-prename descclassname"><span class="pre">datumaro.components.format_detection.</span></span><span class="sig-name descname"><span class="pre">detect_dataset_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formats</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#datumaro.components.format_detection.FormatDetectionContext" title="datumaro.components.format_detection.FormatDetectionContext"><span class="pre">datumaro.components.format_detection.FormatDetectionContext</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#datumaro.components.format_detection.FormatDetectionConfidence" title="datumaro.components.format_detection.FormatDetectionConfidence"><span class="pre">datumaro.components.format_detection.FormatDetectionConfidence</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rejection_callback</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#datumaro.components.format_detection.RejectionCallback" title="datumaro.components.format_detection.RejectionCallback"><span class="pre">datumaro.components.format_detection.RejectionCallback</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../../_modules/datumaro/components/format_detection.html#detect_dataset_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datumaro.components.format_detection.detect_dataset_format" title="Permalink to this definition"></a></dt>
<dd><p>Determines which format(s) the dataset at the specified path belongs to.</p>
<p>The function applies each supplied detector to the given patch and decides
whether the corresponding format is detected or rejected. A format may be
rejected if the detector fails or if it succeeds with less confidence than
another detector (other rejection reasons might be added in the future).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>formats</strong> – The formats to be considered. Each element of the
iterable must be a tuple of a format name and a <cite>FormatDetector</cite>
instance.</p></li>
<li><p><strong>path</strong> – the filesystem path to the dataset to be analyzed.</p></li>
<li><p><strong>rejection_callback</strong> – Unless <cite>None</cite>, called for every rejected format
to report the reason it was rejected.</p></li>
</ul>
</dd>
</dl>
<p>Returns: a sequence of detected format names.</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="datumaro.components.extractor_tfds.html" class="btn btn-neutral float-left" title="extractor_tfds module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="datumaro.components.hl_ops.html" class="btn btn-neutral float-right" title="hl_ops module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
  <p>
      &#169; Copyright 2021, Intel.<div>
      <small><a href="https://www.intel.com/content/www/us/en/privacy/intel-privacy-notice.html">Privacy Policy</a></small>
      |
      <small><a href="https://www.intel.com/content/www/us/en/legal/terms-of-use.html">Terms of Use</a></small>
    </div>
    <br/>
    <small>
      Intel technologies may require enabled hardware, software or service activation. // No product or component can be absolutely secure. // Your costs and results may vary. // Performance varies by use, configuration and other factors. // See our complete legal <u><a href="https://edc.intel.com/content/www/us/en/products/performance/benchmarks/overview/?r=219444055">Notices and Disclaimers</a></u>. // Intel is committed to respecting human rights and avoiding complicity in human rights abuses. See Intel’s <a href="https://www.intel.com/content/www/us/en/policy/policy-human-rights.html"><u>Global Human Rights Principles</u></a>. Intel’s products and software are intended only to be used in applications that do not cause or contribute to a violation of an internationally recognized human right.
    </small>
  </p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: develop
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../../develop/api/components/components/datumaro.components.format_detection.html">develop</a></dd>
        </dl>
    </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>